# IChia's Blog (WordPress Migration Target)

This is a blog project built using the [Astro](https://astro.build/) framework. Its primary purpose is to serve as a modern, high-performance target platform for migrating posts and content from a WordPress site.


**Tech Stack**: Astro, React, Vercel.
**Features:**
   1. Migrated from WordPress using custom Node.js scripts.
   2. Optimized for mobile reading experience.
   3. Automated deployment via Vercel.


## Prerequisites

Before you begin, ensure your development environment has the following installed:

- [Node.js](https://nodejs.org/) (LTS version recommended)
- [pnpm](https://pnpm.io/installation) (or npm / yarn)

## Quick Start

Follow these steps to start the project locally:

1. **Enter the project directory**
   ```bash
   cd astro-blog
   ```

2. **Install dependencies**
   Install the required packages using pnpm (recommended), npm, or yarn.
   ```bash
   pnpm install
   ```

3. **Start the development server**
   This command starts a local development server, typically at `http://localhost:4321`. It supports Hot Module Replacement (HMR), so any changes will reflect instantly in the browser.
   ```bash
   pnpm run dev
   ```

## Main NPM Scripts

The project defines the following primary scripts in `package.json`:

- `pnpm run dev`: Starts the local development server.
- `pnpm run build`: Bundles the project into static files for production, outputting to the `dist/` directory.
- `pnpm run preview`: Previews the production build generated by the `build` command locally.

---

## Project Structure Explained

This project follows the standard Astro structure with some custom configurations for easier management and scalability.

```
astro-blog/
├── .astro/            # Astro build cache and type definitions
├── .git/              # Git version control directory
├── .github/           # GitHub Actions workflows (e.g., auto-deployment)
├── public/            # Static assets directory
│   ├── favicon.png
│   └── assets/
│       ├── fonts/
│       └── images/
├── src/               # Main source code directory
│   ├── components/    # Reusable Astro components (.astro)
│   │   ├── blog/
│   │   ├── core/
│   │   └── ...
│   ├── config/        # Global site configuration files (JS objects)
│   │   ├── footer.js
│   │   ├── nav.js
│   │   └── settings.js
│   ├── layouts/       # Base layouts for pages
│   │   ├── Base.astro   # Base HTML structure for all pages
│   │   ├── Page.astro   # Layout for standard pages
│   │   └── Post.astro   # Layout for blog posts
│   ├── pages/         # Site pages and routing
│   │   ├── index.astro  # Site homepage
│   │   └── blog/        # Blog post list page (may include [slug].astro for individual posts)
│   ├── styles/        # CSS style files
│   │   ├── global.css
│   │   └── theme.css
│   └── utils/         # Shared helper functions
├── astro.config.mjs   # Main Astro configuration file
├── netlify.toml       # Netlify deployment configuration
├── package.json       # Project dependencies and NPM scripts
├── tsconfig.json      # TypeScript configuration file
└── README.md          # (This file)
```

### Directory and File Descriptions

- **`public/`**:
  All files in this directory are copied directly to the root of the final build. This is suitable for static assets that do not require processing, such as `favicon.png`, site images (`images/`), fonts (`fonts/`), etc.

- **`src/`**:
  This is where the majority of your work takes place.

    - **`src/components/`**: Stores reusable UI components. For example, `BlogPostPreview.astro` for displaying post previews on list pages, `Header.astro`, or `Footer.astro`.

    - **`src/config/`**: Centralized management for site settings. This is a best practice that allows non-developers to easily modify navigation links (`nav.js`), footer information (`footer.js`), and more.

    - **`src/layouts/`**: Defines common structures for different types of pages.
        - `Base.astro`: Contains the `<head>`, global styles, and scripts; it serves as the foundation for all pages.
        - `Post.astro`: A layout specifically designed for blog posts, including titles, publication dates, and content blocks. Posts migrated from WordPress will use this layout.

    - **`src/pages/`**: One of Astro’s core features: file-based routing.
        - `src/pages/index.astro` maps to the root path (`/`).
        - `src/pages/blog/index.astro` maps to `/blog`.
        - A dynamic route file, such as `src/pages/blog/[...slug].astro`, will be used to render all individual blog posts. It fetches the corresponding Markdown file based on the `slug` (unique identifier) and renders it.

    - **`src/styles/`**: Stores global CSS files. `global.css` is used for site-wide general styles.

- **`astro.config.mjs`**:
  The main configuration file for Astro. You can configure integrations here (e.g., Tailwind CSS, sitemaps), output formats (Static `dist/` or SSR), etc.

- **`netlify.toml`**:
  Indicates that the project is pre-configured for easy deployment to [Netlify](https://www.netlify.com/).

## Content Management: Adding and Modifying Posts

This project is intended to use **Markdown (`.md`)** files for managing blog posts, following the standard Astro Content Collections approach.

Migrated posts, or any posts added manually in the future, should follow this format:

1. **File Location**:
   All `.md` files for posts should be stored in the `src/content/blog/` directory (create it manually if it doesn't exist).

2. **File Naming**:
   The filename will become the post's `slug`, which is part of the URL. For example, `my-first-post.md` will correspond to `your-domain.com/blog/my-first-post`.

3. **Frontmatter Format**:
   Every Markdown file requires a YAML frontmatter block at the top to define post metadata. The `Post.astro` layout will use this data to render the page.

    ```yaml
    ---
    title: 'My First Post'
    description: 'A short description of this post, used for SEO and previews.'
    pubDate: '2026-01-23'
    heroImage: '/assets/images/blog/post-banner.jpg'
    tags: ['Astro', 'Tutorial', 'Migration']
    author: 'Author Name'
    ---

    <!-- Post content in Markdown format goes here -->

    ## This is a Heading

    This is the body of the post...
    ```

## WordPress Migration Strategy

The ultimate goal of this project is to accommodate content exported from `WordPress.2026-01-14.xml`. The migration process is summarized below:

1. **Parse XML**:
   Use `migrate.js` (or another script) located in the root directory to read and parse the `WordPress.2026-01-14.xml` file.

2. **Convert Content**:
   - Iterate through each `<item>` (post) in the XML.
   - Convert the post's HTML content to Markdown format. Libraries like `turndown` can be used.
   - Extract metadata such as title, publication date, categories, and tags.

3. **Generate Markdown Files**:
   - Generate a `.md` file for each post.
   - Write the extracted metadata into the frontmatter block at the top of the file.
   - Append the converted Markdown content after the frontmatter.
   - Save the generated files to the `src/content/blog/` directory.

4. **Handle Images**:
   - The script needs to parse `<img>` tags within the post content.
   - Download these images and store them in `public/assets/images/blog/` or a similar path.
   - Update the image paths in the Markdown content to point to the new local paths.

Once these steps are complete, all WordPress posts will exist in a format natively supported by the Astro project, allowing you to enjoy all the benefits of a static site.